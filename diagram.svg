<svg width="900" height="520" viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg">
  <style>
    text { font-family: Arial, Helvetica, sans-serif; fill: #222; }
    .box { fill: #f4f6f8; stroke: #333; stroke-width: 2; rx: 10; }
    .sensor { fill: #e3f2fd; stroke: #1565c0; }
    .motor { fill: #e8f5e9; stroke: #2e7d32; }
    .control { fill: #fff3e0; stroke: #ef6c00; }
    .state { fill: #fce4ec; stroke: #ad1457; }
    .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"></polygon>
    </marker>
  </defs>

  <!-- EV3 Brick -->
  <rect x="330" y="160" width="240" height="140" class="box"></rect>
  <text x="450" y="190" text-anchor="middle" font-size="18" font-weight="bold">EV3 Brick</text>
  <text x="450" y="215" text-anchor="middle">MATLAB Control Loop</text>
  <text x="450" y="235" text-anchor="middle">Autonomous Navigation</text>
  <text x="450" y="255" text-anchor="middle">State Logic (Pickup Flag)</text>

  <!-- Sensors -->
  <rect x="80" y="80" width="200" height="60" class="sensor"></rect>
  <text x="180" y="115" text-anchor="middle">Color Sensor (Port 2)</text>

  <rect x="80" y="160" width="200" height="60" class="sensor"></rect>
  <text x="180" y="195" text-anchor="middle">Touch Sensor (Port 1)</text>

  <rect x="80" y="240" width="200" height="60" class="sensor"></rect>
  <text x="180" y="275" text-anchor="middle">Ultrasonic Sensor (Port 3)</text>

  <!-- Motors -->
  <rect x="620" y="140" width="220" height="60" class="motor"></rect>
  <text x="730" y="175" text-anchor="middle">Drive Motors A &amp; B</text>

  <rect x="620" y="220" width="220" height="60" class="motor"></rect>
  <text x="730" y="255" text-anchor="middle">Payload Motor D</text>

  <!-- Manual Control -->
  <rect x="330" y="340" width="240" height="70" class="control"></rect>
  <text x="450" y="370" text-anchor="middle" font-weight="bold">Manual Keyboard Control</text>
  <text x="450" y="390" text-anchor="middle">Arrow Keys / A / B / Q</text>

  <!-- Arrows -->
  <line x1="280" y1="110" x2="330" y2="190" class="arrow"></line>
  <line x1="280" y1="190" x2="330" y2="210" class="arrow"></line>
  <line x1="280" y1="270" x2="330" y2="240" class="arrow"></line>

  <line x1="570" y1="190" x2="620" y2="170" class="arrow"></line>
  <line x1="570" y1="240" x2="620" y2="250" class="arrow"></line>

  <line x1="450" y1="300" x2="450" y2="340" class="arrow"></line>
</svg>
